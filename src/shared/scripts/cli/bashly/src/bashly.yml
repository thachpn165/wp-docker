name: wpdocker
help: Manage WordPress Docker environments easily
version: 1.2.0

commands:
  - name: menu
    help: Show command menu
    
  - name: website
    help: Manage WordPress websites
    commands:
      - name: create
        help: Create a new WordPress site
        args:
          - name: domain
            help: Domain name for the new site
            required: true
          - name: php
            help: PHP version for the new site
            required: true
          - name: auto_generate
            help: Auto-generate secure passwords for the site
            required: false
            default: "true"
      - name: delete
        help: Delete an existing site
        args:
          - name: domain
            help: Domain name of the site to delete
            required: true
          - name: backup
            help: Backup before deletion
            required: false
            default: "true"
      - name: list
        help: List all WordPress sites
      - name: restart
        help: Restart a site
        args: 
          - name: domain
            help: Domain name of the site to restart
            required: true
      - name: logs
        help: Show site logs
        args:
          - name: domain
            help: Domain name of the site to show logs
            required: true
          - name: log_type
            help: Type of logs to show (e.g., access, error, php_slow, php_error)
            required: true
      - name: info
        help: Show site info
        args:
          - name: domain
            help: Domain name of the site to show info
            required: true
      - name: restore
        help: Restore site from backup
        args: 
          - name: domain
            help: Domain name of the site to restore
            required: true
          - name: code_backup_file
            help: Path to the backup file for the site
            required: true
          - name: db_backup_file
            help: Path to the database backup file
            required: true
      - name: update_template
        help: Update site template

  - name: ssl
    help: SSL certificate management
    commands:
      - name: install
        help: Install SSL certificate
        commands:
          - name: selfsigned
            help: Install self-signed SSL certificate
            args:
              - name: domain
                help: Domain name for the self-signed SSL certificate
                required: true
          - name: letsencrypt
            help: Install Let's Encrypt SSL certificate
            args:
              - name: domain
                help: Domain name for the Let's Encrypt SSL certificate
                required: true
              - name: email
                help: Email address for Let's Encrypt registration
                required: true
              - name: staging
                help: Use staging environment for testing
                required: false
                default: "false"
      - name: check
        help: Check SSL certificate status
        args:
          - name: domain
            help: Domain name to check SSL certificate status
            required: true 


  - name: php
    help: Manage PHP versions and configuration
    commands:
      - name: change
        help: Change PHP version for a site
        args: 
          - name: domain
            help: Domain name of the site to change PHP version
            required: true
          - name: version
            help: New PHP version for the site
            required: true
      - name: get
        help: Get PHP version list from Docker Hub
      - name: rebuild
        help: Rebuild PHP container for a site
        args:
          - name: domain
            help: Domain name of the site to rebuild PHP container
            required: true
      - name: edit
        help: Edit PHP configuration for a site
        args:
          - name: domain
            help: Domain name of the site to edit PHP configuration
            required: true
          - name: config_type
            help: Type of PHP configuration to edit (conf, ini)
            required: true 

  - name: backup
    help: Manage backups for WordPress sites
    commands:
      - name: website
        help: Backup website source + DB
      - name: database
        help: Backup database only
      - name: file
        help: Backup file only
      - name: restore
        help: Restore backup for a site
        commands:
          - name: website
            help: Restore website source + DB
          - name: database
            help: Restore database only
          - name: file
            help: Restore file only

  - name: database
    help: Manage database operations
    commands:
      - name: reset
        help: Reset site database
      - name: import
        help: Import a SQL database
      - name: export
        help: Export site database for a site or all sites
        commands:
          - name: all
            help: Export database for all sites
          - name: single
            help: Export database for a specific site
            args:
              - name: domain
                help: Domain name of the site to export database
                required: true

  - name: wp
    help: WordPress tools
    commands:
      - name: cli
        help: Run WP-CLI commands inside container
        args:
          - name: domain
            help: Domain name of the site to run WP-CLI commands
            required: true
          - name: command
            help: WP-CLI command to run
            required: true
      - name: migrate
        help: Migrate WordPress site
      - name: reset
        help: Reset features
        commands:
          - name: password
            help: Reset admin password
            args:
              - name: domain
                help: Domain name of the site to reset password
                required: true
              - name: new_password
                help: New password for the admin user (optinal)
                required: false
          - name: role
            help: Reset user roles
            args:
              - name: domain
                help: Domain name of the site to reset user roles
                required: true
              - name: role
                help: New role for the user (optinal)
                required: false
      - name: cache
        help: Setup caching
        args: 
          - name: domain
            help: Domain name of the site to setup caching
            required: true
          - name: cache_type
            help: Type of caching to setup (wp-super-cache, fastcgi-cache, w3-total-cache, wp-fastest-cache, no-cache)
            required: true
      - name: plugin
        help: Plugin tools
        commands:
          - name: auto-update
            help: Enable plugin auto update
            args:
              - name: domain
                help: Domain name of the site to enable plugin auto update
                required: true
      - name: security
        help: Security enhancements
        commands:
          - name: login
            help: Protect wp-login.php for a site
            args:
              - name: domain
                help: Domain name of the site to protect wp-login.php
                required: true
  - name: system
    help: System operations
    commands:
      - name: check
        help: Sytem checking utilities
        commands:
          - name: resources
            help: Check system resources of Docker
          - name: disk
            help: Check disk space usage of WP Docker
      - name: manage
        help: Manage Docker containers
        args:
          - name: container_name
            help: Name of the Docker container to manage
            required: true
          - name: action
            help: Action to perform on Docker containers (start, stop, restart, remove)
            required: true
      - name: cleanup
        help: Cleanup unused Docker resources
  
  - name: cron
    help: Run cron tasks
    commands:
      - name: run
        help: Run a specific cron task
        args:
          - name: task
            help: Name of the cron task to run (backup, letsencrypt_renew, php_get_version, all)
            required: true 

  - name: core
    help: Core management
    commands:
      - name: version
        help: Show current and latest version
      - name: update
        help: Update core system to the latest version
      - name: upgrade
        help: Run the upgrade scripts 
      - name: uninstall
        help: Uninstall WP Docker
      - name: channel
        help: Update channel options
        commands:
          - name: change
            help: Change release channel
            args:
              - name: channel
                help: Release channel to switch to (official, nightly, dev) 
                required: true
          - name: check
            help: Show current channel
      - name: lang
        help: Language options
        commands:
          - name: change
            help: Change CLI language
            args: 
              - name: lang
                help: Language code to switch to (e.g., en, fr, de)
                required: true
          - name: check
            help: Show current language
          - name: list
            help: List supported languages
  
  - name: nginx
    help: NGINX actions
    commands:
      - name: rebuild
        help: Rebuild NGINX proxy
      - name: restart
        help: Restart NGINX proxy
      - name: reload
        help: Reload NGINX configuration

  - name: rclone
    help: Rclone operations
    commands:
      - name: config
        help: Rclone configuration
      - name: upload
        help: Upload files to remote storage
        commands:
          - name: backup
            help: Upload backup files
      - name: delete
        help: delete storage config
      - name: list
        help: List storage in config
  
  - name: debug
    help: Debugging tools
    commands:
      - name: mode
        help: Enable and disable debug mode
      - name: logs
        help: Show debug logs

